#!/bin/bash

vault operator unseal IUlVQRHASS3WDN75XeaCeDPSxhvS2AQptqsih21CohVp
vault operator unseal 871E0VElnysL2FrDLJ9pU7MOj5YE17Suf6FgSZC02zWC
vault operator unseal 9Ue+AIfegcNpYGPNLMyig9Fynx7SM3hY9sP0A3Fh2E+s

vault kv put secret/fiqo-backend \
  PANEL_BASE_URL=http://haproxy.service.consul:8090 \
  STORAGE_STRATEGY=s3 \
  MINIO_BASE_URL=http://haproxy.service.consul:9000 \
  MINIO_BUCKET_NAME=fiqo \
  ACCESS_TOKEN_EXP_MIN=5 \
  REFRESH_TOKEN_EXP_MIN=30 \
  ACCESS_TOKEN_KEY=561744090F30C5564F793305AB783BC96545E88EE42A7ED0CED578C72CE132A3 \
  REFRESH_TOKEN_KEY=561744090F30C5564F793305AB783BC96545E88EE42A7ED0CED578C72CE132A3 \
  GOOGLE_CLIENT_ID=YOUR_GOOGLE_CLIENT_ID \
  GOOGLE_CLIENT_SECRET=YOUR_GOOGLE_CLIENT_SECRET \
  GITHUB_CLIENT_ID=YOUR_GITHUB_CLIENT_ID \
  GITHUB_CLIENT_SECRET=YOUR_GITHUB_CLIENT_SECRET \
  SMTP_HOST=YOUR_SMTP_HOST \
  SMTP_PORT=587 \
  SENDER_EMAIL=YOUR_SENDER_EMAIL \
  SENDER_EMAIL_PASSWORD=YOUR_EMAIL_PASSWORD \
  FLYWAY_ENABLED=false

vault kv put secret/fiqo-panel \
  SPRING_BASE_URL=http://192.168.1.100:8080

vault kv put secret/fiqo-db \
  HOST=haproxy.service.consul \
  PORT=6543 \
  DATABASE=fiqo \
  USERNAME=admin \
  PASSWORD=admin123

vault kv put secret/minio \
  MINIO_ACCESS_KEY=fiqo \
  MINIO_SECRET_KEY=fiqo1234 \
  MINIO_PROMETHEUS_AUTH_TYPE=public

vault kv put secret/grafana \
  GF_SECURITY_ADMIN_USER=admin \
  GF_SECURITY_ADMIN_PASSWORD=admin123
